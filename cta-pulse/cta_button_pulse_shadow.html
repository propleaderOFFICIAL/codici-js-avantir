<style>
    /* Box-shadow esterno che pulsa + effetto 3D "premuto" – gradiente #4facfe → #8f00ff */
    @keyframes ctaPulseShadow {
        0%, 100% {
            box-shadow:
                0 0 20px 1px rgba(79, 172, 254, 0.5),
                0 0 40px 2px rgba(143, 0, 255, 0.3);
            transform: scale(1) translateY(0);
        }
        50% {
            box-shadow:
                0 0 16px 2px rgba(79, 172, 254, 0.4),
                0 0 32px 4px rgba(143, 0, 255, 0.35),
                inset 0 3px 8px rgba(0, 0, 0, 0.2);
            transform: scale(0.97) translateY(4px);
        }
    }

    #button-cta.cta-pulse-shadow,
    .cta-pulse-shadow {
        animation: ctaPulseShadow 2s ease-in-out infinite !important;
        will-change: box-shadow, transform !important;
        transition: transform 0.12s ease-out, box-shadow 0.12s ease-out !important;
    }

    /* Effetto 3D quando premi davvero il bottone */
    #button-cta.cta-pulse-shadow:active,
    .cta-pulse-shadow:active {
        transform: scale(0.94) translateY(6px) !important;
        box-shadow:
            0 0 12px 1px rgba(79, 172, 254, 0.4),
            0 0 24px 2px rgba(143, 0, 255, 0.25),
            inset 0 5px 14px rgba(0, 0, 0, 0.3) !important;
    }
</style>

<script>
(function () {
    /* Tutti gli elementi con id="button-cta" o class="button-cta" */
    const TARGET_SELECTOR = '#button-cta, .button-cta';
    const ANIMATION_CLASS = 'cta-pulse-shadow';

    function applyCtaPulse() {
        var elements = document.querySelectorAll(TARGET_SELECTOR);
        elements.forEach(function (el) {
            if (el && !el.classList.contains(ANIMATION_CLASS)) {
                el.classList.add(ANIMATION_CLASS);
            }
        });
    }

    function init() {
        applyCtaPulse();
        var body = document.body;
        if (body) {
            var observer = new MutationObserver(applyCtaPulse);
            observer.observe(body, { childList: true, subtree: true });
        }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
    } else {
        init();
    }
})();
</script>
